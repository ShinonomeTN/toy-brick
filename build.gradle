/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id "org.jetbrains.kotlin.jvm" version "1.4.0"
    id 'org.openjfx.javafxplugin' version '0.0.8' apply false
}

allprojects {
    group = 'com.shinonometn'
    version = '1.1-SNAPSHOT'

    repositories {
        mavenCentral()

        maven {
            url = uri('https://jitpack.io')
        }

        maven {
            url = uri('https://nexus.shinonometn.com/repository/shinonometn-repo/')
        }
    }
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'kotlin'
    apply plugin: 'maven-publish'

    apply plugin: 'org.openjfx.javafxplugin'

    javafx {
        version = "11.0.2"
        modules = [
                'javafx.controls',
                'javafx.graphics',
                'javafx.fxml',
                'javafx.web',
                'javafx.media'
        ]
    }

    dependencies {
        implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.0'
        testImplementation 'org.jetbrains.kotlin:kotlin-test:1.4.0'
        testImplementation 'junit:junit:4.13'
    }

    sourceCompatibility = '11'

    publishing {
        repositories {
            maven {
                name = "shinonometn"

                def releasesRepoUrl = "https://nexus.shinonometn.com/repository/maven-releases/"
                def snapshotsRepoUrl = "https://nexus.shinonometn.com/repository/maven-snapshots/"
                url = version.endsWith('SNAPSHOT') ? snapshotsRepoUrl : releasesRepoUrl

                credentials {
                    // Stored in ~/.gradle/gradle.properties
                    username "$mavenUsername"
                    password "$mavenPassword"
                }
            }
        }

        publications {
            maven(MavenPublication) {
                from(components.java)
            }
        }
    }
}
